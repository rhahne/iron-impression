<section class="section">
  <div class="container">
    <h1 class="title is-2">
      Log in
    </h1>
    <p class="content">
      Welcome to the Log in page
    </p>

    <form action="/users/login" method="POST" id="login">
      <div class="field">
        <p class="control has-icons-left has-icons-right">
          <input class="input" type="email" name="eMail" placeholder="Email" value="hahne.robin@gmail.com">
          <span class="icon is-small is-left">
            <i class="fas fa-envelope"></i>
          </span>

          {{#if errorMessage}}
          <span class="icon is-small is-right">
            <i class="fas fa-exclamation-triangle"></i>
          </span>
          {{else}}
          <span class="icon is-small is-right">
            <i class="fas fa-check"></i>
          </span>
          {{/if}}
        </p>
        {{#if errorMessage }}
        <p class="help is-danger">{{ errorMessage }}</p>
        {{/if}}
      </div>
      <div class="field">
        <p class="control has-icons-left">
          <input class="input" type="password" name="password" placeholder="Password">
          <span class="icon is-small is-left">
            <i class="fas fa-lock"></i>
          </span>
        </p>
        {{#if passwordReset }}
        <p class="help is-danger">Forgot your Password? <a href="/users/reset">Reset it here!</a></p>
        {{/if}}
      </div>
      <div class="field">
        <p class="control">
          <button class="button is-success">
            Login
          </button>
        </p>
      </div>
   
  </div>
</section>
<script src="https://cdnjs.cloudflare.com/ajax/libs/es6-shim/0.35.3/es6-shim.min.js"></script>
<script src="/vendors/formvalidation/dist/js/FormValidation.min.js"></script>
<script src="/vendors/formvalidation/dist/js/plugins/Bulma.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function(e) {
    FormValidation.formValidation(
        document.getElementById('login'),
        {
            fields: {
                eMail: {
                    validators: {
                        notEmpty: {
                            message: 'The E-Mail is required'
                        },
                        stringLength: {
                            min: 6,
                            max: 30,
                            message: 'The eMail must be more than 6 and less than 30 characters long',
                        },
                        regexp: {
                            regexp: /^[a-zA-Z0-9_]+$/,
                            message: 'The eMail can only consist of alphabetical, number and underscore',
                        },
                    }
                },
                password: {
                    validators: {
                        notEmpty: {
                            message: 'The password is required'
                        },
                        stringLength: {
                            min: 8,
                            message: 'The password must have at least 8 characters',
                        },
                    }
                },
            }
        }
    );
});    
</script>